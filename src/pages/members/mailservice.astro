---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import MailServiceApp from "../../components/MailServiceApp";

const pageTitle = 'Mail-Service – Mitgliederbereich | Repair Café Leonberg';
const pageDescription = 'E-Mails an Teams und Verteiler direkt aus dem Mitgliederbereich versenden.';
export const prerender = false;

const memberApiToken = import.meta.env.MEMBER_API_TOKEN ?? '';
const memberApiUrl = '/members/api/contacts';
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <Header />

  <main class="bg-gradient-to-b from-brand-50 via-white to-slate-50 py-12 md:py-16">
    <section>
      <div class="container">
        <div class="mx-auto max-w-4xl text-center">
          <span class="inline-flex items-center gap-2 rounded-full bg-white px-4 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-brand-700 shadow-sm ring-1 ring-brand-100">
            Mitglieder-Tool
          </span>
          <h1 class="mt-5 heading-hero">Mail-Service für das Team</h1>
          <p class="mt-3 text-base text-slate-600">
            Filtere nach Tags, stelle Verteiler zusammen und verschicke personalisierte Mails mit eigener Antwort-Adresse.
            Absender bleibt info@repair-leonberg.de.
          </p>
          <div class="mt-6 flex justify-center">
            <a href="https://drive.google.com/drive/folders/1-ZFkI_RUBzL3EAEJnX7_576xpzTlQ_XA?usp=sharing" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 rounded-xl bg-white px-5 py-2.5 text-sm font-semibold text-slate-700 shadow-sm ring-1 ring-slate-200 transition hover:bg-slate-50 hover:text-brand-600">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-emerald-500">
                <path d="M12 2L2 22h20L12 2zm0 3.5l6 12H6l6-12z"/>
              </svg>
              <span>Google Drive (Alle Unterlagen)</span>
            </a>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-12">
      <div class="container">
        <div class="rounded-3xl bg-white/90 p-4 shadow-2xl shadow-brand-900/5 ring-1 ring-slate-200/60 backdrop-blur md:p-8">
          <MailServiceApp client:load apiUrl={memberApiUrl} apiToken={memberApiToken} />
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>
